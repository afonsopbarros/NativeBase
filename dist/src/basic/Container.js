Object.defineProperty(exports,"__esModule",{value:true});exports.Container=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _this=this,_jsxFileName='src/basic/Container.js';var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[typeof Symbol==='function'?Symbol.iterator:'@@iterator'](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if((typeof Symbol==='function'?Symbol.iterator:'@@iterator')in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactNativeSafeAreaContext=require('react-native-safe-area-context');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _nativeBaseShoutemTheme=require('native-base-shoutem-theme');var _utils=require('../utils');var _mapPropsToStyleNames=require('../utils/mapPropsToStyleNames');var _mapPropsToStyleNames2=_interopRequireDefault(_mapPropsToStyleNames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var useIsFloatingKeyboard=function useIsFloatingKeyboard(){var _useState=(0,_reactNative.useState)(false),_useState2=_slicedToArray(_useState,2),isFloating=_useState2[0],setFloating=_useState2[1];var windowWidth=_reactNative.Dimensions.get('window').width;var onKeyboardWillChangeFrame=function onKeyboardWillChangeFrame(event){setFloating(event.endCoordinates.width!==windowWidth);};(0,_reactNative.useEffect)(function(){_reactNative.Keyboard.addListener('keyboardWillChangeFrame',onKeyboardWillChangeFrame);return function(){_reactNative.Keyboard.removeListener('keyboardWillChangeFrame',onKeyboardWillChangeFrame);};},[]);return isFloating;};var Container=function Container(){var isFloatingKeyboard=useIsFloatingKeyboard();if(_this.props.noSafeArea){return _reactNative.Platform.OS==='ios'?_react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaFrameContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:46}},function(frame){return _react2.default.createElement(_reactNative.KeyboardAvoidingView,_extends({enabled:!isFloatingKeyboard,behavior:'padding',style:{flex:1,height:_reactNative.Platform.OS==='ios'?frame.height:frame.height-20},ref:function ref(c){return _this._root=c;}},_this.props,{__source:{fileName:_jsxFileName,lineNumber:48}}),_this.props.children);}):_react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaFrameContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:63}},function(frame){return _react2.default.createElement(_reactNative.View,_extends({style:{flex:1,height:_reactNative.Platform.OS==='ios'?frame.height:frame.height-20},ref:function ref(c){return _this._root=c;}},_this.props,{__source:{fileName:_jsxFileName,lineNumber:65}}),_this.props.children);});}return _reactNative.Platform.OS==='ios'?_react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaFrameContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:80}},function(frame){return _react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaView,_extends({edges:_this.props.hasBottomTabBar?['right','left','top']:['bottom','left','right','top'],style:{flex:1,height:_reactNative.Platform.OS==='ios'?frame.height:frame.height-20},ref:function ref(c){return _this._root=c;}},_this.props,{__source:{fileName:_jsxFileName,lineNumber:82}}),_react2.default.createElement(_reactNative.KeyboardAvoidingView,{enabled:!isFloatingKeyboard,behavior:'padding',style:{flex:1},__source:{fileName:_jsxFileName,lineNumber:95}},_this.props.children));}):_react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaFrameContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:106}},function(frame){return _react2.default.createElement(_reactNativeSafeAreaContext.SafeAreaView,_extends({edges:_this.props.hasBottomTabBar?['right','left','top']:['bottom','left','right','top'],style:{flex:1,height:_reactNative.Platform.OS==='ios'?frame.height:frame.height-20},ref:function ref(c){return _this._root=c;}},_this.props,{__source:{fileName:_jsxFileName,lineNumber:108}}),_this.props.children);});};Container.propTypes=_extends({},_utils.ViewPropTypes,{style:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.number,_propTypes2.default.array]),noSafeArea:_propTypes2.default.bool});var StyledContainer=(0,_nativeBaseShoutemTheme.connectStyle)('NativeBase.Container',{},_mapPropsToStyleNames2.default)(Container);exports.Container=StyledContainer;
//# sourceMappingURL=Container.js.map